<div class="app-content">
	<section *ngIf="!selectedPSchoolId">
		<h4>Add School</h4>
	</section>
	<section *ngIf="selectedPSchoolId">
		<h4>Edit School</h4>
		(GRF Number:{{school.autoGenerated}} School Name :{{school.schoolName}})
	</section>
	<form class="example-form">
		<md-tab-group [(selectedIndex)]="selectedIndex">
			<md-tab label="School Details" (click)="setCurrentTab(0)">
				<table class="example-full-width" cellspacing="0">
					<tr>
						<td style="padding-right: 10px">
<md-input-container class="example-full-width">
	<input md-input name="autoGenerated" placeholder="GRF Reg. No." [(ngModel)]="school.autoGenerated" disabled>
</md-input-container>
</td>
<td>
	<md-input-container class="example-full-width">
		<input md-input name="govRegisterno" #govRegisterno placeholder="Enter Gov. Reg. No." [(ngModel)]="school.govRegisterno">
	</md-input-container>
</td>
</tr>
<tr>
	<td style="padding-right: 10px">
<md-input-container class="example-full-width">
	<input md-input name="schoolName" placeholder="School Name" [(ngModel)]="school.schoolName">
</md-input-container>
</td>
<td>
	<md-input-container class="example-full-width">
		<input md-input name="instName" placeholder="Institue Name" [(ngModel)]="school.instName">
	</md-input-container>
</td>
</tr>
<tr>
	<td style="padding-right: 10px">
<md-select style="width: 100%;" name="category" placeholder="Category" [(ngModel)]="school.category">
<md-option *ngFor="let category of partnerSchoolLevels" [value]="category">
	{{ category }}
</md-option>
</md-select>
</td>
<td>
	<md-input-container class="example-full-width">
		<input md-input name="formNumber" placeholder="Form Number" [(ngModel)]="school.formNumber">
	</md-input-container>
</td>
</tr>
<tr>
	<td style="padding-right: 10px;">
<md-input-container class="example-full-width">
	<textarea md-input placeholder="Address" name="line1" [(ngModel)]="address.line1">1600 Amphitheatre Pkwy</textarea>
</md-input-container>
</td>
<td>
	<md-input-container class="example-full-width">
		<textarea md-input placeholder="Address 2" name="line2" [(ngModel)]="address.line2"></textarea>
	</md-input-container>
</td>
</tr>
</table>

<table class="example-full-width" cellspacing="0">
	<tr>
		<td style="padding-right: 10px;">
<md-input-container class="example-full-width">
	<input md-input placeholder="City" name="city" [(ngModel)]="address.city">
</md-input-container>
</td>
<td style="padding-right: 10px;">
<md-select style="width: 50%;" name="state" placeholder="State" [(ngModel)]="address.state" *ngIf="address.state != 'Other'" (ngModelChange)="getDistricts(address.state)">
<md-option *ngFor="let states of country.states" [value]="states.name">
	{{ states.name }}
</md-option>
</md-select>
<md-input-container class="example-full-width" *ngIf="address.state == 'Other'">
	<input md-input name="otherState" placeholder="Enter State Name" [(ngModel)]="address.otherState">
</md-input-container>
</td>
</tr>
</table>
<table class="example-full-width" cellspacing="0">
	<tr *ngIf="address.state != 'Other'">
		<td style="padding-right: 10px;">
<md-select name="district" placeholder="District" [(ngModel)]="address.dist" (ngModelChange)="getTalukas(address.dist)">
	<md-option *ngFor="let district of temp.tempDistricts" [value]="district.name">
		{{ district.name }}
	</md-option>
</md-select>
</td>
<td style="padding-right: 10px;">
<md-select name="taluka" placeholder="Taluka" [(ngModel)]="address.tal" (ngModelChange)="getVillages(address.tal)">
	<md-option *ngFor="let taluka of temp.tempTalukas" [value]="taluka.name">
		{{ taluka.name }}
	</md-option>
</md-select>
</td>
<td>
	<md-input-container class="example-full-width">
		<input md-input #postalCode placeholder="Postal Code" name="pin" [(ngModel)]="address.pin">
		<md-hint align="end">{{postalCode.value.length}} / 5</md-hint>
	</md-input-container>
</td>
</tr>
<tr *ngIf="address.state == 'Other'">
	<td style="padding-right: 10px;">
<md-input-container class="example-full-width">
	<input md-input placeholder="District" name="district" [(ngModel)]="address.otherDist">
</md-input-container>
</td>
<td style="padding-right: 10px;">
<md-input-container class="example-full-width">
	<input md-input placeholder="Taluka" name="Taluka" [(ngModel)]="address.otherTal">
</md-input-container>
</td>
<td style="padding-right: 10px;">
<md-input-container class="example-full-width">
	<input md-input #postalCode placeholder="Postal Code" name="pin" [(ngModel)]="address.pin">
	<md-hint align="end">{{postalCode.value.length}} / 5</md-hint>
</md-input-container>
</td>
</tr>
</table>
<div class="example-button-row">
	<button md-raised-button color="primary" (click)="saveSchool()"> Save </button>
</div>
</md-tab>
<md-tab label="Exam Details" (click)="setCurrentTab(1)" [disabled]="enableTillTabNo<1">
	<table class="example-full-width" cellspacing="0">
		<tr>
			<td style="padding-right: 10px;">
<h5>Select Year </h5>
<md-select style="width: 100%;" name="yearOfExam" [(ngModel)]="yearOfExam" (ngModelChange)="getExamByYear(yearOfExam)">
<md-option *ngFor="let Year of Years" [value]="Year">
	{{ Year }}
</md-option>
</md-select>
</td>
<td style="padding-right: 10px;">
<md-input-container class="example-full-width">
	<input md-input name="totalStudent" #totalStudent placeholder="Total Number Of Student In School" [(ngModel)]="examDetail.totalStudent">
</md-input-container>
</td>
</tr>
<p>&nbsp;&nbsp;</p>
<div>
	<h5 class="md-subhead">Enter Exam Appeared Student Male and Female</h5>
</div>
<tr>
	<td style="padding-right: 10px;">
<md-input-container class="example-full-width">
	<input md-input name="male" placeholder="Male" [(ngModel)]="examDetail.male">
</md-input-container>
</td>
<td style="padding-right: 10px;">
<md-input-container class="example-full-width">
	<input md-input name="female" placeholder="Female" [(ngModel)]="examDetail.female">
</md-input-container>
</td>
</tr>
<tr>
	<td style="padding-right: 10px;">
<h5 class="md-subhead">Mode Of Exam OnLine / OffLine</h5>
<!--<md-input-container class="example-full-width">
	<input md-input name="modeOfExam" placeholder="Mode Of Exam" [(ngModel)]="examDetail.modeOfExam">
</md-input-container>-->
<div>
	<input name="onlinechk" type="checkbox" [checked]="examDetail.modeOfExam == 'OnLine'" (change)="onlineChClicked()" /> OnLine
	<input name="offlinechk" type="checkbox" [checked]="examDetail.modeOfExam == 'OffLine'" (change)="offlineChClicked()" />	OffLine
</div>
</td>
</tr>
<tr>
	<td style="padding-right: 10px;">
<h5 class="md-subhead">Books Required OnLine / OffLine</h5>
<!--<md-input-container class="example-full-width">
	<input md-input name="bookRequired" placeholder="Book Required" [(ngModel)]="examDetail.bookRequired">
</md-input-container>-->
<div>
	<input name="onlinechk" type="checkbox" [checked]="examDetail.bookRequired == 'OnLine'" (change)="onlinebookChClicked()"/> OnLine
	<input name="offlinechk" type="checkbox" [checked]="examDetail.bookRequired == 'OffLine'" (change)="offlinebookChClicked()"/> OffLine
</div>
</td>
</tr>
</table>
<div class="example-button-row">
	<button md-raised-button color="primary" (click)="saveSchool()"> Save </button>
</div>
</md-tab>
<md-tab label="Contact Details" (click)="setCurrentTab(2)" [disabled]="enableTillTabNo<2">
	<table class="example-full-width" cellspacing="0">
		<tr>
			<td style="padding-right: 10px">
<md-input-container class="example-full-width">
	<input md-input name="headMasterName" placeholder="Name of Head Master / Principal" [(ngModel)]="contactDetail.headMasterName">
</md-input-container>
</td>
<td>
	<md-input-container class="example-full-width">
		<input md-input name="headMasterPhone" placeholder="Phone no." [(ngModel)]="contactDetail.headMasterPhone">
	</md-input-container>
</td>
</tr>
<tr>
	<td style="padding-right: 10px">
<md-input-container class="example-full-width">
	<input md-input name="headMasterMobile" placeholder="Mobile no." [(ngModel)]="contactDetail.headMasterMobile">
</md-input-container>
</td>
<td>
	<md-input-container class="example-full-width">
		<input md-input name="headMasterEmailId" placeholder="Email ID" [(ngModel)]="contactDetail.headMasterEmailId">
	</md-input-container>
</td>
</tr>
</table>
<p>&nbsp;&nbsp;</p>
<table style='width: 100%; border-collapse: collapse; border: 1px solid black;'>
<thead>
	<tr style='border: 1px solid black; background-color: #44acb6'>
<th>Sr. No.</th>
<th>Coordinator Name</th>
<th>Phone</th>
<th>Mobile</th>
<th>Email Id</th>
<th>Action</th>
</tr>
</thead>
<tbody>
	<tr *ngFor="let coordinatorDetail of contactDetail.coordinatorDetail; let i = index">
		<td>{{ coordinatorDetail.srno }} )&nbsp;&nbsp;</td>
		<td style="padding-right: 10px">
<md-input-container class="example-full-width">
	<input md-input name="coordinatorName" placeholder="Name" [(ngModel)]="coordinatorDetail.coordinatorName">
</md-input-container>
</td>
<td style="padding-right: 10px">
<md-input-container class="example-full-width">
	<input md-input name="coordinatorPhoneNum" placeholder="Phone no" [(ngModel)]="coordinatorDetail.coordinatorPhoneNum">
</md-input-container>
</td>
<td style="padding-right: 10px">
<md-input-container class="example-full-width">
	<input md-input name="coordinatorMobileNum" placeholder="Mobile no" [(ngModel)]="coordinatorDetail.coordinatorMobileNum">
</md-input-container>
</td>
<td style="padding-right: 10px">
<md-input-container class="example-full-width">
	<input md-input name="coordinatorEmailId" placeholder="Email ID" [(ngModel)]="coordinatorDetail.coordinatorEmailId">
</md-input-container>
</td>
<td>
	<button md-mini-fab color="accent" (click)="removeCoordinator(i)"> <md-icon>delete</md-icon> </button>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<button md-raised-button (click)="addCoordinator()"><span mdTooltip="Add Co-ordinator">Add</span> </button>
<p>&nbsp;&nbsp;</p>
<div class="example-button-row">
	<button md-raised-button color="primary" (click)="saveSchool()"> Save </button>
</div>
</md-tab>
<md-tab label="Book Details" (click)="setCurrentTab(3)" [disabled]="enableTillTabNo<3">
	<table class="example-full-width" cellspacing="0">
		<tr>
			<th>Select Standard</th>
			<th>Select Book Name</th>
			<th>Fees</th>
			<th>Total Student</th>
			<th>Total Fees</th>
		</tr>
		<tr *ngFor="let bookDetail of bookSummary.bookDetail; let i = index">
			<td style="padding-right: 10px">
<md-select name="standard" placeholder="Select Standard" [(ngModel)]="bookDetail.standard">
	<md-option *ngFor="let standard of standardList" [value]="standard">
		{{ standard }}
	</md-option>
</md-select>
</td>
<td style="padding-right: 10px">
<md-select name="bookName" placeholder="Select Book Name" [(ngModel)]="bookDetail.bookName" (ngModelChange)="setfees(bookDetail.bookName,i)">
	<md-option *ngFor="let book of bookStocks" [value]="book.id">
		<span *ngIf="book.standard == bookDetail.standard">
			{{book.bookName}}({{book.bookMedium}})
		</span>
	</md-option>
</md-select>
</td>
<td style="padding-right: 10px">
<md-input-container class="example-full-width">
	<input md-input disabled> {{bookDetail.bookPrise}}
</md-input-container>
</td>
<td style="padding-right: 10px">
<md-input-container class="example-full-width">
	<input md-input name="totalStud" placeholder="Enter Book Total Student" [(ngModel)]="bookDetail.totalStud" (change)="calculate(i,bookDetail.totalStud)">
</md-input-container>
</td>
<td style="padding-right: 10px">
<md-input-container class="example-full-width">
	<input md-input disabled> {{bookDetail.totalFees}}
</md-input-container>
</td>
<td>
	<button md-mini-fab color="accent" (click)="removeBook(i)"> <md-icon>delete</md-icon> </button>
</td>
</tr>
<tr>
	<td></td>
	<td></td>
	<td>Total Students:</td>
	<td>{{examDetail.total}}</td>
	<td></td>
	<td></td>
</tr>
</table>
<span>
	<button md-raised-button  (click)="addBook()"> Add </button>
</span>
<div>
	<table>
		<tbody>
			<thead>
				<tr>
					<th width=30%></th>
					<th width=10%></th>
					<th width=20% name="Fees (INR)"></th>
					<th width=10px></th>
					<th width=20%></th>
				</tr>
			</thead>
			<tr>
				<td>Total :-</td>
				<td></td>
				<td>{{bookSummary.total}}</td>
				<td></td>
				<td></td>
				<td></td>
			</tr>
			<tr>
				<td>20% Fees for Institute :-</td>
				<td></td>
				<td>{{bookSummary.amtForInst20per}}</td>
				<td></td>
				<td></td>
				<td></td>
			</tr>
			<tr>
				<td>80% Fees for GRF :-</td>
				<td></td>
				<td>{{bookSummary.amtForGRF80per}}</td>
				<td></td>
				<td></td>
				<td></td>
			</tr>
		</tbody>
	</table>
</div>
<div class="example-button-row">
	<button md-raised-button color="primary" (click)="saveSchool()"> Save </button>
</div>
</md-tab>
<md-tab label="Payment Details" (click)="setCurrentTab(4)" [disabled]="enableTillTabNo<4">
	<div align="right">
		<button style="padding-right: 10px" md-raised-button color="primary" (click)="gotoAddCourier(school,yearOfExam)"> Add Courier </button>
<button style="padding-right: 10px" md-raised-button color="primary" (click)="gotoprintbookdetails(school,bookStocks,yearOfExam)"> Print </button>
<button style="padding-right: 10px" md-raised-button color="primary" (click)="gotoprintaddess(school,yearOfExam)"> Print Address </button>
</div>
<div alin="left" *ngIf="!addPaymentFlag">
	<button md-raised-button color="primary" (click)="enableAddPaymentFlag()">Add Payment</button>
</div>
<section name="payment add section" *ngIf="addPaymentFlag">
	<table class="example-full-width" cellspacing="0">
		<tr>
			<td style="padding-right: 10px">
<md-select style="width: 100%;" name="payment" placeholder="payment" [(ngModel)]="PaymentDetail.payReceivedBy">
<md-option *ngFor="let paymentReceivedBy of paymentReceivedBy" [value]="paymentReceivedBy">
	{{ paymentReceivedBy }}
</md-option>
</md-select>
</td>
<td>
	<md-input-container class="example-full-width">
		<input md-input type="date" name="paymentDate" placeholder="Enter Payment Date" [(ngModel)]="PaymentDetail.paymentDate">
	</md-input-container>
</td>
</tr>
<tr>
	<td style="padding-right: 10px">
<md-select style="width: 100%;" name="nameOfBank" placeholder="Name Of Bank" [(ngModel)]="PaymentDetail.nameOfBank" *ngIf="PaymentDetail.nameOfBank !=
'Other'">
<md-option *ngFor="let bankName of bankNameList" [value]="bankName">
	{{ bankName }}
</md-option>
</md-select>

<md-input-container class="example-full-width" *ngIf="PaymentDetail.nameOfBank == 'Other'">
	<input md-input name="otherNameOfBank" placeholder="Other Name Of Bank" [(ngModel)]="tempPaymentData.otherNameOfBank">
</md-input-container>
</td>
<td style="padding-right: 10px">
<md-input-container class="example-full-width">
	<input md-input name="branchName" placeholder="Enter Branch Name" [(ngModel)]="PaymentDetail.branchName">
</md-input-container>
</td>
</tr>
<tr>
	<td>
		<md-input-container class="example-full-width">
			<input md-input name="transactionNumber" placeholder="Enter Transaction/DD/Slip Number" [(ngModel)]="PaymentDetail.transactionNumber">
		</md-input-container>
	</td>
	<td>
		<md-input-container class="example-full-width">
			<input md-input type="date" name="depositDate" placeholder="Enter Deposited Date" [(ngModel)]="PaymentDetail.depositDate">
		</md-input-container>
	</td>
</tr>
<tr>
	<td style="padding-right: 10px;">
<md-input-container class="example-full-width">
	<input md-input name="payAmount" placeholder="Paid Fees" [(ngModel)]="PaymentDetail.payAmount">
</md-input-container>
</td>
<td>
	<md-input-container class="example-full-width">
		<input md-input name="note" placeholder="Note" [(ngModel)]="PaymentDetail.note">
	</md-input-container>
</td>
</tr>
</table>
<div class="example-button-row">
	<button md-raised-button color="primary" (click)="saveSchool()"> Save </button>
</div>
</section>
<div layout="row">
	<section>
		<md-input-container style="padding-right: 10px;" ><input md-input disabled>Total Fees To Be Paid = {{bookSummary.amtForGRF80per }} </md-input-container>
<md-input-container style="padding-right: 10px;" ><input md-input disabled>Total Paid Fees = {{PaymentDetail.tPaid }} </md-input-container>
<md-input-container style="padding-right: 10px;" ><input md-input disabled>Pending Fees = {{PaymentDetail.pAmount}} </md-input-container>
</section>
</div>
<div class="example-full-width" style="padding: 20px;">
<table class="example-table">
	<tr>
		<th>Payment Received Via</th>
		<th>Date</th>
		<th>Bank Name</th>
		<th>Payment Fees</th>
		<th>Pending Fees</th>
	</tr>
	<tr *ngFor="let pd of PaymentDet;let i=index;trackBy:i">
		<td>{{pd.payReceivedBy}}</td>
		<td>{{pd.paymentDate | date:"short"}}</td>
		<td>{{pd.nameOfBank}}</td>
		<td>{{pd.payAmount}}</td>
		<td>{{pd.pAmount}}</td>
	</tr>
</table>
</div>
</md-tab>
<md-tab label="Notification" [disabled]="enableTillTabNo<5">
	<table class="example-full-width" cellspacing="0" style="font-family: arial, sans-serif; border-collapse: collapse; border: 1px solid black; width: 80%; margin-left: 20px;">
<tr style="border: 1px solid #8cced4; text-align: left; padding: 8px; background-color: #44acb6;">
<th>Notification Type</th>
<th>No. of Notifications</th>
</tr>
<tr style="border: 1px solid #dddddd; text-align: left; padding: 8px; background-color: #8cced4;">
<td>Registration SMS Count</td>
<td>{{ examDetail.notificationData.registrationSmsSent }}</td>
</tr>
<tr style="border: 1px solid #dddddd; text-align: left; padding: 8px; background-color: #8cced4;">
<td>Courier SMS Count</td>
<td>{{ examDetail.notificationData.currierSmsSent }}</td>
</tr>
</table>
</md-tab>
</md-tab-group>
</form>
</div>